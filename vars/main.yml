default_apps_groups:
  essential:
    description: "Recommanded system tools"
    apps:
      - name: htop
        type: apt
      - name: curl
        type: apt
      - name: wget
        type: apt
      - name: terminator
        type: role
        role: patbriperso.terminator
        vars:
          terminator_config: "{{ terminator.config | default([]) }}"
      - name: filezilla
        type: apt
      - name: resh
        type: cmd
        cmd: |
          curl -fsSL https://raw.githubusercontent.com/curusarn/resh/master/scripts/rawinstall.sh -o install.sh
          chmod +x install.sh
          ./install.sh
          rm ./install.sh
        creates: "{{ ansible_env.HOME }}/.resh/bin/resh-cli"

  files-management:
    apps:
      - name: TagSpaces
        type: apt
        deb: https://github.com/tagspaces/tagspaces/releases/download/v6.7.3/tagspaces-linux-amd64-6.7.3.deb
      - name: rclone
        type: role
        role: stefangweichinger.ansible_rclone
        become: true

  comm:
    description: "Communication"
    apps:
      - name: slack
        type: snap
        become: true

  dev:
    description: "Outils de développement"
    apps:
      - name: clickhouse-client
        type: role
        role: patbriperso.clickhouse
        become: true

      - name: yq
        type: cmd
        cmd: |
          wget https://github.com/mikefarah/yq/releases/latest/download/yq_linux_amd64 -O {{ ansible_env.HOME }}/.local/bin/yq
          chmod +x ~/.local/bin/yq
        creates: "{{ ansible_env.HOME }}/.local/bin/yq"

      - name: phpenv
        type: role
        role: patbriperso.phpenv
        vars:
          phpenv_repo: "https://github.com/phpenv/phpenv.git"
          phpenv_env: user
          phpenv_global: 8.3.29
          phpenv_versions:
            - 8.3.23
            - 8.3.29
            - 8.4.16
          phpbuild_configure_extras: "--with-sodium" #--with-bz2 --with-pgsql --with-pdo-pgsql
          phpenv_build_dependencies_extras:
            - libsodium-dev

      - name: codium
        type: snap
        classic: true
        become: true

      - name: com.jetbrains.IntelliJ-IDEA-Ultimate
        type: flatpak

      - name: git
        type: apt

      - name: NVM
        type: role
        role: morgangraphics.ansible_role_nvm
        vars:
          autocomplete: true

      - name: mariadb-server
        type: apt

      - name: Towerify CLI
        type: cmd
        cmd: |
          curl -sL https://cli.towerify.io/install.sh -o install.sh
          chmod +x install.sh
          ./install.sh
          rm ./install.sh
        creates: "{{ ansible_env.HOME }}/.towerify/towerify"


  devops:
    description: "Tools for DevOps operation"
    apps:
      - name: docker
        type: role
        role: geerlingguy.docker
        become: true
      - name: virtualbox
        type: role
        role: patbriperso.virtualbox
        become: true
        vars:
          virtualbox_version: "7.2"
          virtualbox_extension_version: "7.2.4"

  media:
    description: "Applications multimédia"
    apps:
      - name: org.videolan.VLC
        type: flatpak
        remote: flathub

      - name: gimp
        type: apt

      - name: spotify
        type: snap
        become: true
